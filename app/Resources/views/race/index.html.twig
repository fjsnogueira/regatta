{% extends 'base.html.twig' %}

{% block body %}
    <h1>Rennen</h1>

    <table class="table table-striped sortable">
        <thead>
            <th data-defaultsign="_19" data-defaultsort="asc">Nr.</th>
            <th data-defaultsign="az">Name</th>
            <th data-defaultsort='disabled'></th>
        </thead>
        <tbody>
        {% for race in races %}
            <tr>
                <td>
                    {{ race.numberInEvent }}
                </td>
                <td>
                    <a href="{{ path('race_show', { 'race': race.id, 'event': race.event.id }) }}">{{ rr.getOfficialName(race) }}</a>
                    {% if rr.getNumberOfRegistrations(race) > 0 %} <span class="badge">{{ rr.getNumberOfRegistrations(race) }}</span>{% endif %}
                    {% if race.extraText != "" %}<br /><em>{{ race.extraText }}</em>{% endif %}
                </td>
                <td>
                    <a href="{{ path('race_edit', { 'race': race.id, 'event': race.event.id }) }}" class="btn btn-warning"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> ändern</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('event_show', { 'id': id }) }}">Zurück zum Event</a>
        </li>
        <li>
            <a href="{{ path('race_new', { 'id': id }) }}">Neues Rennen erstellen</a>
        </li>
    </ul>
{% endblock %}
